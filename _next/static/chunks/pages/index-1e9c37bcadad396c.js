(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(5614)}])},5614:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return V}});var n=i(5944),a=i(7294),r=i(7857),o=i(1754),s=i.n(o),c=i(5071),l=i(917);let d=(0,l.iv)("max-width:1300px;padding:0 16px;margin:0 auto;width:100%;");function p(t){let{children:e}=t;return(0,n.tZ)("div",{css:d,children:e})}let h=(0,l.iv)("position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px);animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}"),g=(0,l.iv)("background:linear-gradient(180deg,#2a2d3a 0%,#1e2029 100%);padding:24px;border-radius:20px;display:flex;flex-direction:column;align-items:center;width:90%;max-width:350px;text-align:center;border:1px solid rgba(255,255,255,0.1);box-shadow:0 10px 30px rgba(0,0,0,0.5);"),u=(0,l.iv)("font-size:28px;font-weight:800;color:#fff;margin:16px 0 8px;"),f=(0,l.iv)("font-size:16px;color:#b0b0b0;margin-bottom:24px;line-height:1.5;"),x=(0,l.iv)("display:flex;align-items:center;gap:10px;font-size:24px;font-weight:700;color:#fff;margin-bottom:24px;background-color:rgba(0,0,0,0.2);padding:8px 16px;border-radius:12px;"),v=(0,l.iv)("display:flex;gap:12px;width:100%;"),b=(0,l.iv)("flex:1;padding:16px;border-radius:12px;font-size:16px;font-weight:700;cursor:pointer;border:none;transition:all 0.2s ease-in-out;display:flex;align-items:center;justify-content:center;gap:8px;&:active{transform:scale(0.95);}"),m=(0,l.iv)("background:linear-gradient(180deg,#ff6b6b 0%,#e03131 100%);color:white;box-shadow:0 2px 8px 0 rgba(224,49,49,0.4);"),y=(0,l.iv)("background:linear-gradient(180deg,#8c67ff 0%,#6d44e8 100%);color:white;box-shadow:0 2px 8px 0 rgba(109,68,232,0.4);"),w=(0,l.iv)("width:100%;background:linear-gradient(180deg,#82d938 0%,#68b528 100%);color:white;box-shadow:0 2px 8px 0 rgba(118,185,42,0.5);");function k(t){let{type:e,score:i,onTakeHit:a,onKeepScore:r}=t,o="BOMB"===e;return(0,n.tZ)("div",{css:h,children:(0,n.BX)("div",{css:g,children:[(0,n.tZ)(s(),{src:o?"/icons/bomb.svg":"/icons/stop.svg",width:80,height:80,alt:o?"bomb icon":"stop icon"}),(0,n.tZ)("h2",{css:u,children:o?"Danger Ahead!":"Game Over!"}),(0,n.tZ)("p",{css:f,children:o?"You hit a bomb! You can take the hit and lose rewards, or defuse it to save your run.":"You've reached the end of this run..."}),(0,n.BX)("div",{css:x,children:[(0,n.tZ)(s(),{src:"/icons/cash.svg",width:32,height:32,alt:"cash"}),(0,n.tZ)("span",{children:i})]}),o?(0,n.BX)("div",{css:v,children:[(0,n.tZ)("button",{type:"button",onClick:a,css:[b,m],children:"Take a hit"}),(0,n.BX)("button",{type:"button",onClick:r,css:[b,y],children:["Defuse for",(0,n.tZ)(s(),{src:"/icons/cash.svg",width:16,height:16,alt:"gem"}),"49"]})]}):(0,n.tZ)("button",{type:"button",onClick:r,css:[b,w],children:"Claim"})]})})}let Z=(0,l.iv)("@keyframes flyToScore{0%{transform:translate(0,0) scale(1.2);opacity:1;}100%{transform:var(--transform-end);opacity:0;}}"),P=(0,l.iv)("@keyframes shake{10%,90%{transform:translate3d(-1px,0,0);}20%,80%{transform:translate3d(2px,0,0);}30%,50%,70%{transform:translate3d(-4px,0,0);}40%,60%{transform:translate3d(4px,0,0);}}"),B=(0,l.iv)(P,"  animation:shake 0.5s cubic-bezier(0.36,0.07,0.19,0.97) both;"),z=(t,e,i)=>{let n=t.left+t.width/4,a=t.top+t.height/4,r=e.left+e.width/2,o=e.top+e.height/2;return(0,l.iv)(Z,"    position:fixed;left:",n,"px;top:",a,"px;z-index:2000;pointer-events:none;--transform-end:translate(",r-n,"px,",o-a,"px) scale(0.5);animation:flyToScore 0.8s ease-in forwards;animation-delay:",i,"ms;")},O=()=>(0,l.iv)("max-width:400px;margin:0 auto;position:relative;"),_=()=>(0,l.iv)("height:fit-content;display:flex;align-items:center;justify-content:center;margin-bottom:62px;"),X=t=>(0,l.iv)("display:flex;align-items:center;justify-content:center;padding:0 16px;gap:16px;margin-bottom:32px;h1{color:",t.palette.text.primary,";display:block;font-feature-settings:'liga' off,'clig' off;font-size:24px;font-weight:800;line-height:100%;white-space:nowrap;",t.breakpoints.down("xs"),"{font-size:16px;}}"),C=t=>(0,l.iv)("height:2px;width:100%;background-color:",t.palette.text.secondary,";"),E=t=>(0,l.iv)("position:relative;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:40px;span{color:",t.palette.text.primary,";font-size:24px;font-weight:800;line-height:100%;",t.breakpoints.down("xs"),"{font-size:16px;}}"),S=()=>(0,l.iv)("display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:33px;perspective:1000px;"),T=t=>(0,l.iv)("aspect-ratio:1 / 1;border-radius:12px;cursor:pointer;position:relative;transform-style:preserve-3d;transition:transform 0.6s;transform:",t?"rotateY(180deg)":"rotateY(0deg)",";.card-inner{position:absolute;width:100%;height:100%;text-align:center;transition:transform 0.6s;transform-style:preserve-3d;box-shadow:0 1px 0 0 rgba(255,255,255,0.2) inset,0 4px 8px 0 rgba(24,26,32,0.3);border-radius:12px;}.card-front,.card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;-webkit-backface-visibility:hidden;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px;}.card-front{background:linear-gradient(180deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);backdrop-filter:blur(8px);span{font-size:32px;color:#ccc;font-weight:800;}}.card-back{background:linear-gradient(180deg,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0.1) 100%);transform:rotateY(180deg);span{color:white;font-weight:700;font-size:14px;margin-top:5px;}}"),N=()=>(0,l.iv)("display:flex;align-items:center;justify-content:center;gap:30px;margin-bottom:32px;"),j=t=>(0,l.iv)("display:flex;align-items:center;gap:5px;span{color:",t.palette.text.primary,";font-size:16px;font-weight:700;}"),A=()=>(0,l.iv)("display:flex;justify-content:center;"),M=t=>e=>(0,l.iv)("width:100%;padding:16px;border-radius:12px;font-size:16px;font-weight:700;cursor:pointer;transition:all 0.3s ease-in-out;background-color:transparent;border:2px dashed ",e.palette.text.secondary,";color:",e.palette.text.secondary,";",t&&"\n    background: linear-gradient(180deg, #82d938 0%, #68b528 100%);\n    color: ".concat(e.palette.common.white,";\n    border-color: transparent;\n    box-shadow: 0 2px 8px 0 rgba(118, 185, 42, 0.5);\n  "),"  &:active{transform:scale(0.95);}"),R="/icons/cash.svg",Y=[{iconPath:"/icons/cash.svg",alt:"cash",count:5,width:32,height:32},{iconPath:"/icons/x2.svg",alt:"multiplier",count:1,width:32,height:32},{iconPath:"/icons/null.svg",alt:"coin",count:1,width:24,height:24},{iconPath:"/icons/bomb.svg",alt:"bomb",count:1,width:24,height:24},{iconPath:"/icons/stop.svg",alt:"stop",count:1,width:24,height:24}],D=[{type:"cash",value:100,iconPath:"/icons/cash.svg",revealed:!1},{type:"cash",value:500,iconPath:"/icons/cash.svg",revealed:!1},{type:"cash",value:1e3,iconPath:"/icons/cash.svg",revealed:!1},{type:"cash",value:1e4,iconPath:"/icons/cash.svg",revealed:!1},{type:"cash",value:200,iconPath:"/icons/cash.svg",revealed:!1},{type:"bomb",value:0,iconPath:"/icons/bomb.svg",revealed:!1},{type:"x2",value:0,iconPath:"/icons/x2.svg",revealed:!1},{type:"null",value:0,iconPath:"/icons/null.svg",revealed:!1},{type:"stop",value:0,iconPath:"/icons/stop.svg",revealed:!1}];function G(t){let{className:e}=t,[i,o]=(0,a.useState)([]),[l,d]=(0,a.useState)(0),[h,g]=(0,a.useState)(0),[u,f]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!1),[b,m]=(0,a.useState)(!1),[y,w]=(0,a.useState)({isOpen:!1,type:null}),[Z,P]=(0,a.useState)([]),G=(0,a.useRef)(null),I=()=>{o((function(t){let e=[...t];for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e})(D).map((t,e)=>({...t,id:"".concat(t.type,"-").concat(t.value,"-").concat(e),type:t.type}))),d(0),g(0),f(!1),v(!1),m(!1),w({isOpen:!1,type:null}),P([])};(0,a.useEffect)(()=>{I()},[]);let V=t=>{if(!G.current||!t)return;let e=t.getBoundingClientRect(),i=G.current.getBoundingClientRect(),n=Array.from({length:3}).map((t,n)=>({id:Date.now()+n,startRect:e,endRect:i,delay:80*n}));P(t=>[...t,...n])},H=(t,e)=>{if(i[t].revealed||x)return;let n=[...i],a=n[t];switch(a.revealed=!0,g(l),a.type){case"cash":d(t=>t+(u?2*a.value:a.value)),V(e.currentTarget);break;case"x2":f(!0),d(t=>2*t);break;case"bomb":v(!0),o(n.map(t=>({...t,revealed:!0}))),m(!0),setTimeout(()=>m(!1),500),setTimeout(()=>w({isOpen:!0,type:"BOMB"}),300);return;case"stop":v(!0),w({isOpen:!0,type:"GAME_OVER"})}o(n)},K=t=>{P(e=>e.filter(e=>e.id!==t))};return(0,n.BX)("section",{className:e,css:[O,b&&B],children:[Z.map(t=>{let{id:e,startRect:i,endRect:a,delay:r}=t;return(0,n.tZ)("div",{onAnimationEnd:()=>K(e),css:z(i,a,r),children:(0,n.tZ)(s(),{src:R,width:30,height:30,alt:"flying cash"})},e)}),y.isOpen&&y.type&&(0,n.tZ)(k,{type:y.type,score:l,onTakeHit:()=>{w({isOpen:!1,type:null}),d(0),g(0),setTimeout(()=>I(),500)},onKeepScore:()=>{w({isOpen:!1,type:null}),setTimeout(()=>I(),500)}}),(0,n.BX)(p,{children:[(0,n.tZ)("div",{css:_,children:(0,n.tZ)(s(),{src:"/icons/startLogo.svg",width:61,height:35,alt:"logo"})}),(0,n.BX)("div",{css:X,children:[(0,n.tZ)(c.Z,{css:C}),(0,n.tZ)("h1",{children:"Roll Craft"}),(0,n.tZ)(c.Z,{css:C})]}),(0,n.BX)("div",{ref:G,css:E,children:[(0,n.tZ)(s(),{src:R,width:30,height:30,alt:"cash icon"}),(0,n.tZ)("span",{children:(0,n.tZ)(r.ZP,{start:h,end:l,duration:1,separator:" "})})]}),(0,n.tZ)("div",{css:S,children:i.map((t,e)=>(0,n.tZ)("div",{css:T(t.revealed),onClick:t=>H(e,t),children:(0,n.BX)("div",{className:"card-inner",children:[(0,n.tZ)("div",{className:"card-front",children:(0,n.tZ)("span",{children:"$"})}),(0,n.BX)("div",{className:"card-back",children:[(0,n.tZ)(s(),{src:t.iconPath,width:48,height:48,alt:t.type}),"cash"===t.type&&t.value>0&&(0,n.tZ)("span",{children:t.value})]})]})},t.id))}),(0,n.tZ)("div",{css:N,children:Y.map(t=>(0,n.BX)("div",{css:j,children:[(0,n.tZ)(s(),{src:t.iconPath,width:t.width,height:t.height,alt:t.alt}),(0,n.tZ)("span",{children:t.count})]},t.alt))}),(0,n.tZ)("div",{css:A,children:(0,n.tZ)("button",{type:"button",css:M(l>0&&!x),onClick:x?I:()=>w({isOpen:!0,type:"GAME_OVER"}),children:x?"Play Again":"Claim"})})]})]})}function I(t){let{className:e}=t;return(0,n.tZ)("section",{className:e,children:(0,n.tZ)(G,{})})}function V(){return(0,n.tZ)("div",{children:(0,n.tZ)(I,{})})}}},function(t){t.O(0,[98,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);